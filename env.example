# ==============================================
# Pixel Studio Environment Variables
# ==============================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# ==============================================
# üóÑÔ∏è  DATABASE
# ==============================================
DATABASE_URL="postgresql://user:password@localhost:5432/pixel-studio"
DIRECT_URL="postgresql://user:password@localhost:5432/pixel-studio"

# ==============================================
# üîê AUTHENTICATION
# ==============================================

# Google OAuth (required for login)
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
SESSION_SECRET="your-long-random-session-secret-key-at-least-32-chars"

# Supabase (for additional auth features)
SUPABASE_URL="https://your-project-id.supabase.co"
SUPABASE_ANON_KEY="your-supabase-anon-key"

# ==============================================
# ü§ñ AI SERVICES
# ==============================================

# OpenAI (required for DALL-E models)
OPENAI_API_KEY="sk-your-openai-api-key-here"

# Hugging Face (required for Stable Diffusion, Flux models)
HUGGINGFACE_API_KEY="hf_your-huggingface-api-key-here"

# ==============================================
# üì¶ REDIS CACHE (Upstash)
# ==============================================
UPSTASH_REDIS_REST_URL="https://your-redis-instance.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-redis-rest-token"

# ==============================================
# ‚òÅÔ∏è  AWS S3 (File Storage)
# ==============================================
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
AWS_REGION="us-east-1"
S3_BUCKET_NAME="your-s3-bucket-name"

# ==============================================
# üí≥ STRIPE (Payments)
# ==============================================
STRIPE_PUBLIC_KEY="pk_test_your-stripe-public-key"
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-stripe-webhook-secret"

# ==============================================
# üì° QUEUE CONFIGURATION
# ==============================================

# Queue Backend Selection
# Options: "qstash" (default, cost-effective) or "kafka" (high-throughput)
QUEUE_BACKEND="qstash"

# Enable async queue processing (set to "true" to enable)
ENABLE_ASYNC_QUEUE="true"

# ==============================================
# üöÄ QSTASH (Recommended - Pay Per Message)
# ==============================================
# Get credentials from: https://console.upstash.com/qstash
# Pricing: Free tier (500 msgs/day), then $1 per 100k messages

QSTASH_TOKEN="your-qstash-token"
QSTASH_CURRENT_SIGNING_KEY="your-current-signing-key"
QSTASH_NEXT_SIGNING_KEY="your-next-signing-key"

# ==============================================
# üì° KAFKA (Ready for Scale - High Throughput)
# ==============================================
# Use when: >10k jobs/month, need ordering guarantees
# See infrastructure/kafka/README.md for setup instructions

# Local Development (with Docker Compose)
KAFKA_BROKERS="localhost:9092"
KAFKA_CLIENT_ID="pixel-studio"
KAFKA_SSL="false"
KAFKA_SASL_USERNAME=""
KAFKA_SASL_PASSWORD=""

# Production AWS MSK (uncomment and configure for production)
# KAFKA_BROKERS="b-1.pixel-studio-kafka.abc123.c2.kafka.us-east-1.amazonaws.com:9092,b-2.pixel-studio-kafka.abc123.c2.kafka.us-east-1.amazonaws.com:9092"
# KAFKA_SSL="true"
# KAFKA_SASL_USERNAME="your-msk-username"
# KAFKA_SASL_PASSWORD="your-msk-password"

# To enable Kafka instead of QStash:
# 1. Set QUEUE_BACKEND="kafka"
# 2. Set ENABLE_KAFKA_IMAGE_GENERATION="true"
# 3. Start workers: npm run kafka:consumer
ENABLE_KAFKA_IMAGE_GENERATION="false"

# Processing Configuration
PROCESSING_WORKER_INSTANCES="3"
MAX_CONCURRENT_GENERATIONS="10"
GENERATION_TIMEOUT_MS="300000"

# ==============================================
# üîó WEBSOCKET SERVER
# ==============================================
# Local development port
WS_PORT="3001"

# Production WebSocket URL (required for production!)
# This should point to your hosted WebSocket server
# Use wss:// (secure) in production, ws:// only for local dev
# WS_URL="wss://ws.yourdomain.com"
#
# For Railway/Render: use your WebSocket service URL
# For AWS: use your EC2/ECS endpoint or ALB with WebSocket support
# For Fly.io: use your app's WebSocket URL

# ==============================================
# ‚öôÔ∏è  APPLICATION SETTINGS
# ==============================================
NODE_ENV="development"
BASE_URL="http://localhost:5173"

# Feature Flags
ENABLE_KAFKA_IMAGE_GENERATION="true"

# ==============================================
# üìä ANALYTICS & MONITORING
# ==============================================

# Sentry (optional - for error tracking)
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Vercel Analytics (optional - if deploying to Vercel)
# ANALYTICS_ID="your-vercel-analytics-id"

# ==============================================
# üß™ TESTING & DEVELOPMENT
# ==============================================

# Set to "true" to enable debug logging
DEBUG_MODE="false"

# Set to "true" to enable test mode (uses mock APIs)
TEST_MODE="false"

# Playwright test configuration
# PLAYWRIGHT_BASE_URL="http://localhost:5173"

# ==============================================
# üìù OPTIONAL CONFIGURATIONS
# ==============================================

# Custom domain for production
# CUSTOM_DOMAIN="https://your-domain.com"

# API rate limiting
# RATE_LIMIT_MAX="100"
# RATE_LIMIT_WINDOW_MS="900000"

# Email configuration (if implementing email features)
# EMAIL_FROM="noreply@your-domain.com"
# EMAIL_PROVIDER="sendgrid"
# EMAIL_API_KEY="your-email-api-key"

# ==============================================
# üö® IMPORTANT NOTES
# ==============================================
# 
# 1. Never commit this file with real values to git!
# 2. Generate strong random strings for SESSION_SECRET
# 3. Use different API keys for development and production
# 4. Keep your .env file secure and backed up safely
# 5. Rotate API keys regularly for security
# 
# For detailed setup instructions, see README.md
#
